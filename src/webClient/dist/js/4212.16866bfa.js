"use strict";(self["webpackChunkElectron"]=self["webpackChunkElectron"]||[]).push([[4212],{94212:(e,l,t)=>{t.r(l),t.d(l,{default:()=>P});var a=t(75305);const o={key:1,class:"q-mt-sm"},d={class:"row q-col-gutter-md q-mb-sm"},s={class:"col-md-4 col-sm-6 col-xs-12"},m={class:"col-md-4 col-sm-6 col-xs-12"},n={class:"row q-col-gutter-md q-mb-sm"},i={class:"col-md-4 col-sm-6 col-xs-12"},c={class:"col-md-4 col-sm-6 col-xs-12"},_={class:"row q-col-gutter-md q-mb-sm"},r={class:"col-md-4 col-sm-6 col-xs-12"},u={class:"col-md-4 col-sm-6 col-xs-12"},p={class:"row q-col-gutter-md q-mb-sm"},b={class:"col-md-8 col-sm-12 col-xs-12"},g={class:"row q-col-gutter-md q-mb-sm"},h={class:"col-md-4 col-sm-6 col-xs-12"},v={class:"row q-col-gutter-md q-mb-sm"},q={class:"col-md-4 col-sm-6 col-xs-12"},y={class:"row q-col-gutter-md q-mb-sm"},x={class:"col-md-4 col-sm-6 col-xs-12"},w={class:"row q-col-gutter-md q-mb-sm"},f={class:"col-md-4 col-sm-6 col-xs-12"};function k(e,l,t,k,$,U){const V=(0,a.up)("comp-breadcrumb"),I=(0,a.up)("q-input"),C=(0,a.up)("comp-fld-ref-search"),W=(0,a.up)("q-select"),D=(0,a.up)("comp-fld-date"),M=(0,a.up)("q-checkbox"),Z=(0,a.up)("comp-fld-date-time"),Q=(0,a.up)("comp-item-btn-save"),j=(0,a.up)("q-btn"),P=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(P,{padding:""},{default:(0,a.w5)((()=>[t.isOpenInDialog?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(V,{key:0,list:[{label:"Изменения плановой даты завершения",to:"/plan_end_date_change",docType:"plan_end_date_change"},{label:$.item?$.item.title?$.item.title:"Редактирование":"",docType:"edit"}]},null,8,["list"])),$.item?((0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",d,[(0,a._)("div",s,[(0,a.Wm)(I,{outlined:"",type:"text",modelValue:$.item.title,"onUpdate:modelValue":l[0]||(l[0]=e=>$.item.title=e),label:e.$t("plan_end_date_change.title"),autogrow:"",readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["modelValue","label"])]),(0,a._)("div",m,[(0,a.Wm)(C,{outlined:"",pgMethod:"task_list",label:e.$t("plan_end_date_change.task_id"),item:$.item.task_title,itemId:$.item.task_id,ext:{avatar:"image/task.svg",isClearable:"true",pathUrl:"/task"},onUpdate:l[1]||(l[1]=e=>$.item.task_id=e.id),onClear:l[2]||(l[2]=e=>$.item.task_id=null),readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["label","item","itemId","ext"])])]),(0,a._)("div",n,[(0,a._)("div",i,[(0,a.Wm)(I,{outlined:"",type:"number",modelValue:$.item.work_day_quantity,"onUpdate:modelValue":l[3]||(l[3]=e=>$.item.work_day_quantity=e),label:e.$t("plan_end_date_change.work_day_quantity"),readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["modelValue","label"])]),(0,a._)("div",c,[(0,a.Wm)(W,{outlined:"",label:e.$t("plan_end_date_change.direction"),modelValue:$.item.direction,"onUpdate:modelValue":l[4]||(l[4]=e=>$.item.direction=e),options:[{label:"ускорение",value:"boost",color:"positive"},{label:"замедление",value:"slowdown",color:"negative"}],readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["label","modelValue"])])]),(0,a._)("div",_,[(0,a._)("div",r,[(0,a.Wm)(D,{outlined:"",label:e.$t("plan_end_date_change.old_plan_end_date"),"date-string":e.$utils.formatPgDate($.item.old_plan_end_date),onUpdate:l[5]||(l[5]=e=>$.item.old_plan_end_date=e),readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["label","date-string"])]),(0,a._)("div",u,[(0,a.Wm)(D,{outlined:"",label:e.$t("plan_end_date_change.new_plan_end_date"),"date-string":e.$utils.formatPgDate($.item.new_plan_end_date),onUpdate:l[6]||(l[6]=e=>$.item.new_plan_end_date=e),readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["label","date-string"])])]),(0,a._)("div",p,[(0,a._)("div",b,[(0,a.Wm)(I,{outlined:"",type:"text",modelValue:$.item.reason,"onUpdate:modelValue":l[7]||(l[7]=e=>$.item.reason=e),label:e.$t("plan_end_date_change.reason"),autogrow:"",readonly:!1,class:"q-mb-sm col-md-8 col-sm-12 col-xs-12"},null,8,["modelValue","label"])])]),(0,a._)("div",g,[(0,a._)("div",h,[(0,a.Wm)(C,{outlined:"",pgMethod:"ctlg_plan_end_date_change_side_list",label:e.$t("plan_end_date_change.side_id"),item:$.item.side_title,itemId:$.item.side_id,ext:{},onUpdate:l[8]||(l[8]=e=>$.item.side_id=e.id),onClear:l[9]||(l[9]=e=>$.item.side_id=null),readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["label","item","itemId"])])]),(0,a._)("div",v,[(0,a._)("div",q,[(0,a.Wm)(M,{label:e.$t("plan_end_date_change.customer_confirm"),modelValue:$.item.customer_confirm,"onUpdate:modelValue":l[10]||(l[10]=e=>$.item.customer_confirm=e),disable:!1,"false-value":!1,"indeterminate-value":"some",class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["label","modelValue"])])]),(0,a._)("div",y,[(0,a._)("div",x,[(0,a.Wm)(Z,{outlined:"",label:e.$t("plan_end_date_change.customer_confirm_datetime"),"date-string":e.$utils.formatPgDateTime($.item.customer_confirm_datetime),onUpdate:l[11]||(l[11]=e=>$.item.customer_confirm_datetime=e),onClear:l[12]||(l[12]=e=>$.item.customer_confirm_datetime=null),readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["label","date-string"])])]),(0,a._)("div",w,[(0,a._)("div",f,[(0,a.Wm)(C,{outlined:"",pgMethod:"user_list",label:e.$t("plan_end_date_change.author_id"),item:$.item.author_title,itemId:$.item.author_id,ext:{avatar:"image/users.svg",isClearable:"true",pathUrl:"/users"},onUpdate:l[13]||(l[13]=e=>$.item.author_id=e.id),onClear:l[14]||(l[14]=e=>$.item.author_id=null),readonly:!1,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["label","item","itemId","ext"])])]),t.isOpenInDialog?((0,a.wg)(),(0,a.j4)(j,{key:1,color:"secondary",label:e.$t("message.save"),class:"q-mr-sm",onClick:U.save},null,8,["label","onClick"])):((0,a.wg)(),(0,a.j4)(Q,{key:0,onSave:U.save,readonly:!1,onCancel:l[15]||(l[15]=l=>e.$router.push(U.docUrl))},null,8,["onSave"]))])):(0,a.kq)("",!0)])),_:1})}var $=t(43015);const U={props:["id","isOpenInDialog"],components:{},mixins:[$.Z],computed:{docUrl:function(){return"/plan_end_date_change"}},data(){return{item:null,flds:[{name:"title",label:"название"},{name:"task_id",label:"задача"},{name:"work_day_quantity",label:"кол-во рабочих дней"},{name:"direction",label:"направление"},{name:"old_plan_end_date",label:"старая дата"},{name:"new_plan_end_date",label:"новая дата"},{name:"reason",label:"причина"},{name:"side_id",label:"на чьей стороне причина"},{name:"customer_confirm",label:"подтверждено заказчиком"},{name:"customer_confirm_datetime",label:"дата и время подтверждения заказчиком"},{name:"author_id",label:"автор"}],optionsFlds:[]}},watch:{},methods:{resultModify(e){if(e.direction){let l=[{label:"ускорение",value:"boost",color:"positive"},{label:"замедление",value:"slowdown",color:"negative"}],t=l.find((l=>l.value===e.direction));t&&(e.direction={value:e.direction,label:t.label})}return e},save(){this.$utils.saveItem.call(this,{method:"plan_end_date_change_update",itemForSaveMod:{direction:this.item.direction?this.item.direction.value:null},resultModify:this.resultModify})},reload(){let e=e=>{this.item=this.resultModify(e)};this.$utils.getDocItemById.call(this,{method:"plan_end_date_change_get_by_id",cb:e})}},mounted(){this.reload()}};var V=t(74260),I=t(24379),C=t(34842),W=t(72448),D=t(65735),M=t(2165),Z=t(7518),Q=t.n(Z);const j=(0,V.Z)(U,[["render",k]]),P=j;Q()(U,"components",{QPage:I.Z,QInput:C.Z,QSelect:W.Z,QCheckbox:D.Z,QBtn:M.Z})}}]);