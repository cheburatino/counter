"use strict";(self["webpackChunkElectron"]=self["webpackChunkElectron"]||[]).push([[4041],{74041:(t,e,l)=>{l.r(e),l.d(e,{default:()=>y});var i=l(34182);const a={class:"row q-mt-sm q-col-gutter-sm"},n={class:"col-md-2 col-sm-4 col-xs-6"},s={class:"col-md-2 col-sm-4 col-xs-6"},o={class:"col-md-2 col-sm-4 col-xs-6"},d=(0,i._)("img",{src:"image/functional_requirement.svg",alt:""},null,-1),r=(0,i.Uk)();function u(t,e,l,u,m,c){const _=(0,i.up)("comp-breadcrumb"),p=(0,i.up)("comp-fld-ref-search"),g=(0,i.up)("q-avatar"),f=(0,i.up)("q-item-section"),h=(0,i.up)("router-link"),q=(0,i.up)("q-item-label"),S=(0,i.up)("q-badge"),w=(0,i.up)("comp-item-dropdown-btn"),F=(0,i.up)("comp-doc-list"),y=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(y,{padding:!l.isOpenInDialog},{default:(0,i.w5)((()=>[l.isOpenInDialog?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(_,{key:0,class:"text-capitalize",list:[{label:t.$t("functional_requirement.name_plural"),docType:"functional_requirement"}]},null,8,["list"])),(0,i._)("div",a,[(0,i._)("div",n,[(0,i.Wm)(p,{dense:"",outlined:"",pgMethod:"ctlg_functional_requirement_state_list",label:"",item:m.filterCtlgFunctionalRequirementStateTitle,itemId:m.filterCtlgFunctionalRequirementStateId,ext:{isClearable:!0},onUpdate:c.updateFilterCtlgFunctionalRequirementState,onClear:c.updateFilterCtlgFunctionalRequirementState,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["item","itemId","onUpdate","onClear"])]),(0,i._)("div",s,[(0,i.Wm)(p,{dense:"",outlined:"",pgMethod:"system_list",label:"",item:m.filterSystemTitle,itemId:m.filterSystemId,ext:{isClearable:!0},onUpdate:c.updateFilterSystem,onClear:c.updateFilterSystem,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["item","itemId","onUpdate","onClear"])]),(0,i._)("div",o,[(0,i.Wm)(p,{dense:"",outlined:"",pgMethod:"digital_solution_list",label:"",item:m.filterDigitalSolutionTitle,itemId:m.filterDigitalSolutionId,ext:{isClearable:!0},onUpdate:c.updateFilterDigitalSolution,onClear:c.updateFilterDigitalSolution,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["item","itemId","onUpdate","onClear"])])]),(0,i.Wm)(F,{ref:"docList",listTitle:t.$t("functional_requirement.name_plural"),listDeletedTitle:t.$t("functional_requirement.name_plural_deleted"),"pg-method":"functional_requirement_list","list-sort-data":m.listSortData,"list-filter-data":m.listFilterData,newDocUrl:c.currentUrl+"new",ext:l.ext,"search-fld-name":"search_text",readonly:!1},{listItem:(0,i.w5)((({item:l})=>[(0,i.Wm)(h,{to:c.currentUrl+l.id,style:{cursor:"pointer"}},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{rounded:""},{default:(0,i.w5)((()=>[d])),_:1})])),_:1})])),_:2},1032,["to"]),(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(q,{lines:"1"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,i.zw)(l.title),1)])),_:2},1024),(0,i.Wm)(q,{caption:""},{default:(0,i.w5)((()=>[(0,i.Wm)(q,{caption:""},{default:(0,i.w5)((()=>[(0,i.Wm)(S,{color:"orange"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,i.zw)(l.options.title.state_title),1)])),_:2},1024),r,(0,i.Wm)(S,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,i.zw)(l.options.title.system_title),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(q,{caption:""},{default:(0,i.w5)((()=>[(0,i.Uk)("Запрос: "+(0,i.zw)(l.options.title.request_title),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,i.Wm)(f,{top:"",side:""},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{item:l,itemProp:"title","is-edit":!0,"is-delete":!0,fkProp:"","pg-method":"functional_requirement_update",onEdit:e=>t.$router.push(`${c.currentUrl}${l.id}`),onReloadList:e[0]||(e[0]=e=>t.$refs.docList.reloadList())},null,8,["item","is-delete","onEdit"])])),_:2},1024)])),_:1},8,["listTitle","listDeletedTitle","list-sort-data","list-filter-data","newDocUrl","ext"])])),_:1},8,["padding"])}l(10071),l(66016);var m=l(43015);const c={props:["isOpenInDialog","ext"],mixins:[m.Z],computed:{currentUrl:()=>"/functional_requirement/"},data(){return{listSortData:[{value:"created_at",title:"Дата"},{value:"title",title:"Название"}],listFilterData:[{value:{deleted:!1},title:"Активные"},{value:{deleted:!0},title:"Удаленные"}],filterCtlgFunctionalRequirementStateTitle:null,filterCtlgFunctionalRequirementStateId:null,filterSystemTitle:null,filterSystemId:null,filterDigitalSolutionTitle:null,filterDigitalSolutionId:null}},methods:{updateFilterCtlgFunctionalRequirementState(t){this.$refs.docList.changeItemList({state_id:t?t.id:null}),t&&this.$utils.callPgMethod("ctlg_functional_requirement_state_get_by_id",{id:t.id},(t=>{this.filterCtlgFunctionalRequirementStateTitle=t.title}))},updateFilterSystem(t){this.$refs.docList.changeItemList({system_id:t?t.id:null}),t&&this.$utils.callPgMethod("system_get_by_id",{id:t.id},(t=>{this.filterSystemTitle=t.title}))},updateFilterDigitalSolution(t){this.$refs.docList.changeItemList({digital_solution_id:t?t.id:null}),t&&this.$utils.callPgMethod("digital_solution_get_by_id",{id:t.id},(t=>{this.filterDigitalSolutionTitle=t.title}))}},mounted(){const t=new URLSearchParams(window.location.search);if(t.has("state_id")){let e=+t.get("state_id");e&&this.updateFilterCtlgFunctionalRequirementState({id:e})}if(t.has("system_id")){let e=+t.get("system_id");e&&this.updateFilterSystem({id:e})}if(t.has("digital_solution_id")){let e=+t.get("digital_solution_id");e&&this.updateFilterDigitalSolution({id:e})}}};var _=l(74260),p=l(24379),g=l(52035),f=l(75096),h=l(2350),q=l(69721),S=l(7518),w=l.n(S);const F=(0,_.Z)(c,[["render",u]]),y=F;w()(c,"components",{QPage:p.Z,QItemSection:g.Z,QAvatar:f.Z,QItemLabel:h.Z,QBadge:q.Z})}}]);