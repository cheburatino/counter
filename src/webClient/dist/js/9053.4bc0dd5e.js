"use strict";(self["webpackChunkElectron"]=self["webpackChunkElectron"]||[]).push([[9053],{49053:(t,e,i)=>{i.r(e),i.d(e,{default:()=>w});var l=i(34182);const r={class:"row q-mt-sm q-col-gutter-sm"},s={class:"col-md-2 col-sm-4 col-xs-6"},o={class:"col-md-2 col-sm-4 col-xs-6"},a=(0,l._)("img",{src:"image/request.svg",alt:""},null,-1);function d(t,e,i,d,u,n){const c=(0,l.up)("comp-breadcrumb"),m=(0,l.up)("comp-fld-ref-search"),p=(0,l.up)("q-avatar"),g=(0,l.up)("q-item-section"),_=(0,l.up)("router-link"),f=(0,l.up)("q-item-label"),h=(0,l.up)("comp-item-dropdown-btn"),q=(0,l.up)("comp-doc-list"),w=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(w,{padding:!i.isOpenInDialog},{default:(0,l.w5)((()=>[i.isOpenInDialog?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(c,{key:0,class:"text-capitalize",list:[{label:t.$t("request.name_plural"),docType:"request"}]},null,8,["list"])),(0,l._)("div",r,[(0,l._)("div",s,[(0,l.Wm)(m,{dense:"",outlined:"",pgMethod:"ctlg_request_priority_list",label:"",item:u.filterCtlgRequestPriorityTitle,itemId:u.filterCtlgRequestPriorityId,ext:{isClearable:!0},onUpdate:n.updateFilterCtlgRequestPriority,onClear:n.updateFilterCtlgRequestPriority,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["item","itemId","onUpdate","onClear"])]),(0,l._)("div",o,[(0,l.Wm)(m,{dense:"",outlined:"",pgMethod:"digital_solution_list",label:"",item:u.filterDigitalSolutionTitle,itemId:u.filterDigitalSolutionId,ext:{isClearable:!0},onUpdate:n.updateFilterDigitalSolution,onClear:n.updateFilterDigitalSolution,class:"q-mb-sm col-md-4 col-sm-6 col-xs-12"},null,8,["item","itemId","onUpdate","onClear"])])]),(0,l.Wm)(q,{ref:"docList",listTitle:t.$t("request.name_plural"),listDeletedTitle:t.$t("request.name_plural_deleted"),"pg-method":"request_list","list-sort-data":u.listSortData,"list-filter-data":u.listFilterData,newDocUrl:n.currentUrl+"new",ext:i.ext,"search-fld-name":"search_text",readonly:!1},{listItem:(0,l.w5)((({item:i})=>[(0,l.Wm)(_,{to:n.currentUrl+i.id,style:{cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{rounded:""},{default:(0,l.w5)((()=>[a])),_:1})])),_:1})])),_:2},1032,["to"]),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{lines:"1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(i.title),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(g,{top:"",side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{item:i,itemProp:"title","is-edit":!0,"is-delete":!0,fkProp:"","pg-method":"request_update",onEdit:e=>t.$router.push(`${n.currentUrl}${i.id}`),onReloadList:e[0]||(e[0]=e=>t.$refs.docList.reloadList())},null,8,["item","is-delete","onEdit"])])),_:2},1024)])),_:1},8,["listTitle","listDeletedTitle","list-sort-data","list-filter-data","newDocUrl","ext"])])),_:1},8,["padding"])}i(10071),i(66016);var u=i(43015);const n={props:["isOpenInDialog","ext"],mixins:[u.Z],computed:{currentUrl:()=>"/request/"},data(){return{listSortData:[{value:"created_at",title:"Дата"},{value:"title",title:"Название"}],listFilterData:[{value:{deleted:!1},title:"Активные"},{value:{deleted:!0},title:"Удаленные"}],filterCtlgRequestPriorityTitle:null,filterCtlgRequestPriorityId:null,filterDigitalSolutionTitle:null,filterDigitalSolutionId:null}},methods:{updateFilterCtlgRequestPriority(t){this.$refs.docList.changeItemList({priority_id:t?t.id:null}),t&&this.$utils.callPgMethod("ctlg_request_priority_get_by_id",{id:t.id},(t=>{this.filterCtlgRequestPriorityTitle=t.title}))},updateFilterDigitalSolution(t){this.$refs.docList.changeItemList({digital_solution_id:t?t.id:null}),t&&this.$utils.callPgMethod("digital_solution_get_by_id",{id:t.id},(t=>{this.filterDigitalSolutionTitle=t.title}))}},mounted(){const t=new URLSearchParams(window.location.search);if(t.has("priority_id")){let e=+t.get("priority_id");e&&this.updateFilterCtlgRequestPriority({id:e})}if(t.has("digital_solution_id")){let e=+t.get("digital_solution_id");e&&this.updateFilterDigitalSolution({id:e})}}};var c=i(74260),m=i(24379),p=i(52035),g=i(75096),_=i(2350),f=i(7518),h=i.n(f);const q=(0,c.Z)(n,[["render",d]]),w=q;h()(n,"components",{QPage:m.Z,QItemSection:p.Z,QAvatar:g.Z,QItemLabel:_.Z})}}]);