(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"469c":function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("q-page",{attrs:{padding:""}},[l("comp-breadcrumb",{attrs:{list:[{label:"Типы задач",to:"/taskType",docType:"taskType",icon:"bookmark"},{label:t.item&&t.item.title?""+t.item.title:"",docType:"edit"}]}}),t.item?l("div",{staticClass:"q-mt-sm"},[t._l(t.flds,(function(e){return l("div",{staticClass:"row q-col-gutter-md q-mb-sm"},[Array.isArray(e)?t._l(e,(function(e){return l("comp-fld",{key:e.name,attrs:{fld:t.item[e.name],type:e.type,label:e.label,selectOptions:e.selectOptions?e.selectOptions():[],ajaxSelectTitle:t.item[e.ajaxSelectTitle],columnClass:e.columnClass,compName:e.compName,readonly:!!e.readonly&&e.readonly()},on:{update:function(l){t.item[e.name]=l}}})})):t._e(),"iconUrl"==e.name?[l("div",{staticClass:"col-6"},[l("q-input",{attrs:{outlined:"",label:"url иконки"},model:{value:t.item.iconUrl,callback:function(e){t.$set(t.item,"iconUrl",e)},expression:"item.iconUrl"}})],1),l("div",{staticClass:"col-2"},[l("q-img",{staticStyle:{border:"lightgrey 1px solid"},attrs:{src:t.item.iconUrl}})],1)]:t._e()],2)})),l("comp-item-btn-save",{on:{save:t.save,cancel:function(e){return t.$router.push(t.docUrl)}}})],2):t._e()],1)},n=[],i=(l("7514"),l("278c")),s=l.n(i),o=(l("ac6a"),l("cadf"),l("06db"),l("ffc1"),{props:["id"],computed:{docUrl:function(){return"/taskType"},selectOptions:function(){var t=[];return Object.entries(this.$config.tablesForTask).forEach((function(e){var l=s()(e,2),a=l[0],n=l[1];t.push({label:n,value:a})})),t}},data:function(){var t=this;return{item:null,flds:[[{name:"title",type:"string",label:"Название"},{name:"table_name",type:"select",selectOptions:function(){return t.selectOptions},label:"К чему относится",readonly:function(){return t.item.id>0}}],{name:"iconUrl",type:"string",label:"Иконка"}],optionsFlds:["iconUrl"]}},methods:{resultModify:function(t){if(t.table_name){var e=this.selectOptions.find((function(e){return e.value===t.table_name}));e&&(t.table_name={value:t.table_name,label:e.label})}return t},save:function(){this.$utils.saveItem.call(this,{method:"task_type_update",itemForSaveMod:{table_name:this.item.table_name?this.item.table_name.value:void 0},resultModify:this.resultModify})}},mounted:function(){var t=this,e=function(e){t.item=t.resultModify(e)};this.$utils.getDocItemById.call(this,{method:"task_type_get_by_id",cb:e})}}),c=o,r=l("2877"),u=Object(r["a"])(c,a,n,!1,null,null,null);e["default"]=u.exports}}]);